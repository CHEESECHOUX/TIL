# 시스템 아키텍처

<br>

## 시스템 구성 방식

<details>
    <summary><h3>3계층 구조 (3-Tier Architecture)</h3></summary>
    <ul>
        <li><strong>3계층 구조란?</strong></li>
        플랫폼을 세 가지 계층으로 나누어 논리적 또는 물리적으로 분리하여 구축 및 운영하는 아키텍처
        <br><br>
        예를 들어 웹 서비스를 운영할 때, 서버 한 대에 모든 기능을 통합하는 대신<br> 
        <strong>프레젠테이션 계층, 애플리케이션 계층, 데이터 계층</strong><br>
        으로 분리해 각각 독립적으로 관리한다.
        <br><br>
        3계층 외에도 2계층, 4계층 등 다양한 구조로 나눌 수 있으며, 이를 <strong>다층 구조(Multi-tier Architecture)</strong>라고 한다.
        <br><br>
        <li><strong>프레젠테이션 계층</strong></li>
        사용자와 직접 상호작용하는 계층. UI와 사용자 요청 전달 및 결과 표시<br>
        ex) React, HTML/CSS, Android 앱
        <li><strong>애플리케이션 계층</strong></li>
        비즈니스 로직 처리, 사용자 요청을 처리, DB와 연동
        ex) Python, Node.js, Java 서버
        <li><strong>데이터 계층</strong></li>
        데이터 저장, 조회, 수정 등의 기능을 담당<br>
        ex) MySQL, PostgreSQL, MongoDB

<br><br>

<li>
    <em>※ 추가) 2-tier, n-tier 구조와의 차이</em>
</li>

</ul>

</details>

<details>
    <summary><h3>API 설계 기본 원칙</h3></summary>
    <code>Q. API를 설계할 때 필요한 기본 원칙들과 지원자가 API를 작성할 때 가장 중요하게 생각하는 요소에 대해서 설명해주세요.</code>
    <br><br>
    <h3>RESTful 기본 개념</h3>
    <ul>
        <li>리소스를 <strong>URI</strong>로 표현</li>
        <li><strong>HTTP 메서드</strong>로 <strong>자원에 대한 행위를 요청</strong> (GET, POST, PUT, DELETE 등)</li>
        <li><strong>JSON 포맷</strong>으로 요청/응답 본문 처리</li>
    </ul>
    <br>
    <h3>RESTful API 설계 규칙</h3>
    <ul>
        <li>
        <strong>1. URL 규칙</strong><br>슬래시(/)로 계층 표현, 마지막 슬래시 생략<br>
        </li><br>
        <li>
        <strong>2. 대시(-) 사용</strong><br>언더바(_) 대신 대시(-) 사용<br>
        </li><br>
        <li><strong>3. 소문자 사용</strong><br>URI는 항상 소문자 → 일관성, 단순함 지향</li><br>
        <li>
        <strong>4. 단순한 구조로 작성</strong><br>하나의 리소스에는 단수/복수 URL만 허용<br>
        구조가 일관되면 HTTP 메서드 설계를 올바르게 하기 쉬워지고, 그 결과로 멱등성도 자연스럽게 확보가 됨<br>
        예: <code>/orders</code>, <code>/orders/1</code><br>
        <br>
        <strong>* 멱등성: 같은 요청을 여러 번 보내더라도 결과가 변하지 않는 성질</strong><br>
        - GET, PUT(전체 덮어쓰기라서 결과가 항상 그대로), DELETE → 멱등성 있음<br>
        - POST(요청 할 때마다 새로운 데이터 생김), PATCH(부분 수정으로 데이터 누적이 가능해 매번 결과 달라질 수 있음) → 멱등성 없음<br>
        </li><br><br>
        <li>
        <strong>5. URL에 HTTP 메서드 노출하지 않기</strong><br>
        예: <code>/getUser</code> X
        </li><br>
        <li>
        <strong>6. URI depth 제한</strong><br>가급적 얕게 구성, 최대 4단계 권장<br>
        예: <code>/shops/1/orders/2/items</code> (지양)
        </li><br>
        <li>
        <strong>7. 의미에 맞는 HTTP 상태 코드 사용</strong>
        <ul>
            <li>200 OK, 201 Created, 204 No Content</li>
            <li>400 Bad Request, 401 Unauthorized, 404 Not Found 등</li>
        </ul>
        </li><br>
        <li>
        <strong>8. API 버전 명시</strong><br>
        예: <code>/v1/orders</code>
        </li><br>
        <li>
        <strong>9. 리소스에 대한 정렬, 필드에 대한 필터, 페이징은 쿼리 파라미터 사용</strong>
        <ul>
            <li>정렬: <code>?sort=created_at</code></li>
            <li>필터: <code>?status=active</code></li>
            <li>페이징: <code>?page=2&amp;limit=10</code></li>
        </ul>
        </li><br>
        <li>
        <strong>10. 문서화</strong><br>API 명세서 제공 (Swagger, Postman 등)<br>
        → 기획자나 현업도 쉽게 테스트 가능해야 함
        </li>
    </ul>
    <br>
    API는 일관성, 명확성, 단순성을 기반으로 설계해야 하며, 팀 전체가 쉽게 이해하고 테스트할 수 있도록 문서화와 표준화가 중요하다.
    <br>
    + 추가) RESTful 기반 설계 외에 어떤 API 설계 방법? 요즘 RESTful API를 많이 사용하는 이유

</details>

<br>

## ✔️ Tech-Interview

<details>
    <summary><h3>웹 환경 아키텍처</h3></summary>
    <ul>
        <li>
            <p><strong>Q1. 다양한 클라이언트 디바이스(웹, 모바일, 태블릿)에서 서버를 호출할 때, 일반적인 3-Tier 환경에서 동작하는 전반적인 프로세스를 설명해주세요.</strong></p>
            <p>A. 
                사용자는 프레젠테이션 계층(웹 브라우저, 모바일 앱 등)을 통해 요청을 보냅니다. 이 요청은 애플리케이션 계층(Web 서버, API 서버 등)으로 전달되어 비즈니스 로직이 처리되고, 필요한 경우 데이터 계층(DB 서버)에서 데이터를 읽거나 저장합니다. <br>
                처리된 결과는 다시 애플리케이션 계층을 통해 프레젠테이션 계층으로 전달되어 사용자에게 응답됩니다.
                <br><br>
                + DNS, L7의 역할, LB 등의 역할 추가
                + 방화벽, CDN, DB의 리플리케이션 정도 설명 추가
            </p>
        </li>
        <br>
        <li>
        <p><strong>Q2. 그 중 특정 디바이스 혹은 메뉴의 트래픽이 월등히 높아 서버에 부하가 많이 걸릴 경우, 아키텍처를 어떻게 구성 또는 변경해야 할까요?</strong></p>
        <p>질문의 의도: 점진적인 구조적 개선을 고민해보았는지, 데이터 및 트래픽의 부하 분산에 대해서 알고 있는지 물어보기 위함</p>
        <p>A. 병목 지점을 파악해서 서버를 늘리거나 DB의 수행 속도를 개선해야 한다. 정도의 답변은 아쉬움.
        </p>
        </li>
    </ul>

</details>
